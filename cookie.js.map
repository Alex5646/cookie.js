{"version":3,"sources":["cookie.ts"],"names":[],"mappings":"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","file":"cookie.js","sourcesContent":["/**\r\n * Class for cookie\r\n *\r\n * @example\r\n * Cookie\r\n *   .set({\r\n *     string: 'Hello Wold!',\r\n *     array: [1, 2, 3]\r\n *   })\r\n *   .set('object', {one: 1, two: 2});\r\n *\r\n * console.log(Cookie.get('string'));\r\n * // -> 'Hello Wold!'\r\n *\r\n * Cookie.remove('string');\r\n *\r\n * console.log(Cookie.get('string'));\r\n * // -> undefined\r\n * console.log(Cookie.get('array'));\r\n * // -> [1, 2, 3]\r\n * console.log(Cookie.get('object'));\r\n * // -> {one: 1, two: 2}\r\n */\r\nclass Cookie {\r\n    /**\r\n     * Set cookies\r\n     *\r\n     * @param {String|Object} key\r\n     * @param {*} [value]\r\n     * @param {Object} [options]\r\n     * @param {Number} [options.expires] Cookie expiration time\r\n     * @param {String} [options.path] Path for cookie\r\n     * @param {String} [options.domain] Domain for cookie\r\n     * @param {Boolean} [options.secure] Transfer cookies only over a secure connection.\r\n     *\r\n     * @example\r\n     * Cookie.set('my_cookie', 5);\r\n     * console.log(document.cookie)\r\n     * // -> 'my_cookie=5'\r\n     *\r\n     * // -- OR --\r\n     *\r\n     * Cookie.set({\r\n     *   one: 1,\r\n     *   two: 2\r\n     * });\r\n     *\r\n     * console.log(document.cookie);\r\n     * // -> 'one=1; two=2'\r\n     */\r\n    public static set(\r\n        key: string|Object,\r\n        value?: any,\r\n        options?: {\r\n            expires?: any;\r\n            path?: string;\r\n            domain?: string;\r\n            secure?: boolean;\r\n        } = {}\r\n    ): Cookie {\r\n        if (typeof key === 'object') {\r\n            for (var name in key) {\r\n                this.set(name, key[name]);\r\n            }\r\n\r\n            return Cookie;\r\n        }\r\n\r\n        var expires = options.expires;\r\n\r\n        if (typeof expires === 'number') {\r\n            var days = options.expires, t = options.expires = new Date();\r\n            t.setMilliseconds(t.getMilliseconds() + days * 864e+5);\r\n        }\r\n\r\n        value = encodeURIComponent(JSON.stringify(value));\r\n\r\n        document.cookie =\r\n            key + '=' + value +\r\n            (options.expires ? '; expires=' + options.expires.toUTCString() : '') +\r\n            (options.path    ? '; path=' + options.path : '') +\r\n            (options.domain  ? '; domain=' + options.domain : '') +\r\n            (options.secure  ? '; secure' : '');\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Getting cookies\r\n\r\n     * @example\r\n     * Cookie.set('my_cookie', 5);\r\n     * console.log(Cookie.get('my_cookie'));\r\n     * // -> 5\r\n     *\r\n     * Cookie.set('my_cookie', [1, 2, 3]);\r\n     * console.log(Cookie.get('my_cookie'));\r\n     * // -> [1, 2, 3]\r\n     *\r\n     *\r\n     * Cookie.set({one: 1, two: 2});\r\n     * console.log(Cookie.get('one', 'two'));\r\n     * // -> {one: 1, two: 2}\r\n     */\r\n    public static get(...keys: string[]): any {\r\n        var result = {};\r\n\r\n        for (var key of keys) {\r\n            var matches = document.cookie.match(new RegExp(\r\n                '(?:^|; )' + key.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + '=([^;]*)'\r\n            ));\r\n\r\n            result[key] = matches ? JSON.parse(decodeURIComponent(matches[1])) : undefined;\r\n        }\r\n\r\n        var resultKeys = Object.keys(result);\r\n\r\n        return resultKeys.length == 1 ? result[resultKeys[0]] : result;\r\n    }\r\n\r\n    /**\r\n     * Remove cookies\r\n     *\r\n     * @example\r\n     * Cookie.set('my_cookie', 5);\r\n     * console.log(document.cookie)\r\n     * // -> 'my_cookie=5'\r\n     *\r\n     * Cookie.remove('my_cookie')\r\n     * console.log(document.cookie)\r\n     * // -> ''\r\n     *\r\n     * Cookie.set({one: 1, two: 2});\r\n     * Cookie.remove('one', 'two');\r\n     * console.log(document.cookie)\r\n     * // -> ''\r\n     */\r\n    public static remove(...keys: string[]): Cookie {\r\n        for (var key of keys) {\r\n            this.set(key, '', {expires: -1});\r\n        }\r\n\r\n        return Cookie;\r\n    }\r\n\r\n    /**\r\n     * Getting all keys cookies\r\n     *\r\n     * @example\r\n     * Cookie.set({\r\n     *   one: 1,\r\n     *   two: 2\r\n     * });\r\n     *\r\n     * console.log(Cookie.keys());\r\n     * // -> ['one', 'two']\r\n     */\r\n    public static keys(): string[] {\r\n        var keys = [];\r\n        for (var cookie of document.cookie.split('; ')) {\r\n            keys.push(cookie.split('=')[0]);\r\n        }\r\n        return keys;\r\n    }\r\n\r\n    /**\r\n     * Getting all cookies\r\n     *\r\n     * @example\r\n     * Cookie.set({one: 1, two: 2});\r\n     * console.log(Cookie.all());\r\n     * // -> {one: 1, two: 2}\r\n     */\r\n    public static all(): Object {\r\n        return this.get.apply(this, this.keys());\r\n    }\r\n\r\n    /**\r\n     * Clear all cookies\r\n     *\r\n     * @example\r\n     * Cookie\r\n     *   .set({one: 1, two: 2})\r\n     *   .clear();\r\n     *\r\n     * console.log(document.cookie);\r\n     * // -> ''\r\n     */\r\n    public static clear(): Cookie {\r\n        return this.remove.apply(this, this.keys());\r\n    }\r\n}\r\n"],"sourceRoot":"/source/"}